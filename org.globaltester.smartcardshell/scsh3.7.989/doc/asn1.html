<!-- #BeginTemplate "template.dwt" -->
        <!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- #BeginEditable "TITLE" -->
                <title>ASN1 - Reference Documentation</title>
                    <!-- #EndEditable -->
<link rel=stylesheet type="text/css" href="style.css">
<meta name="author" content="Andreas Schwier">
</head>
<body>
<div align="left"><a href="http://www.cardcontact.de"><img src="banner.jpg" width="750" height="80" border="0"></a></div>
<div id="navigator">
    <p><b>Smart Card<br>Shell 3</b></p>
    <a href="index.html">Home</a><br><br>
    <a href="gperror.html">GPError</a><br>
    <a href="gpsystem.html">GPSystem</a><br>
    <a href="bytestring.html">ByteString</a><br>
    <a href="bytebuffer.html">ByteBuffer</a><br>
    <a href="tlv.html">TLV</a><br>
    <a href="tlvlist.html">TLVList</a><br>
    <a href="card.html">Card</a><br>
    <a href="atr.html">Atr</a><br>
    <a href="key.html">Key</a><br>
    <a href="crypto.html">Crypto</a><br>
    <a href="application.html">Application</a><br>
    <a href="gpapplication.html">GPApplication</a><br>
    <a href="gpsecuritydomain.html">GPSecDomain</a><br>
    <br>
    <a href="asn1.html">ASN1</a><br>
    <a href="cardfile.html">CardFile</a><br>
    <a href="isosecurechannel.html">IsoSecureChannel</a><br>
    <a href="applicationfactory.html">ApplFactory</a><br>
    <a href="gpxml.html">GPXML</a><br>
    <a href="jsscript.html">JsScript</a><br>
    <a href="cardsimulationadapter.html">CardSim</a><br>
    <br>
    <a href="x509.html">X509</a><br>
    <a href="crl.html">CRL</a><br>
    <a href="keystore.html">KeyStore</a><br>
    <a href="cmssigneddata.html">CMSSignedData</a><br>
    <a href="cmsgenerator.html">CMSGenerator</a><br>
    <a href="xmlsignature.html">XMLSignature</a><br>
    <a href="ocspquery.html">OCSPQuery</a><br>
    <a href="ldap.html">LDAP</a><br>
    <a href="soapconnection.html">SOAP</a><br>
    <a href="urlconnection.html">URLConnection</a><br>
    <br>
    <a href="pkcs11provider.html">PKCS11Provider</a><br>
    <a href="pkcs11session.html">PKCS11Session</a><br>
    <a href="pkcs11object.html">PKCS11Object</a><br>
    <br>
    <a href="outlinenode.html">OutlineNode</a><br>
    <a href="dialog.html">Dialog</a><br>
    <br>
    <a href="jsdoc/index.html">Tools</a><br>
    <br>
    <a href="http://www.openscdp.org">OpenSCDP</a><br>
</div>

<div id="main">
<!-- #BeginEditable "BODY" -->
                <h1>ASN1 - Reference Documentation</h1>
<p>Implementation of support for ASN.1 data structures using DER encoding rule</p>
<h2>Index of Methods</h2>
<ul>
<li>
<a href="#Constructor">ASN1() constructor</a>
</li>
<li>
<a href="#add">add()</a>
</li>
<li>
<a href="#get">get()</a>
</li>
<li>
<a href="#find">find()</a>
</li>
<li>
<a href="#remove">remove()</a>
</li>
<li>
<a href="#getBytes">getBytes()</a>
</li>
<li>
<a href="#getDate">getDate()</a>
</li>
<li>
<a href="#setName">setName()</a>
</li>
<li>
<a href="#ASN1.defineObjectIdentifier">ASN1.defineObjectIdentifier()</a>
</li>
<li>
<a href="#toString">toString()</a>
</li>
</ul>
<h2>Constants</h2>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td>Number</td><td>UNIVERSAL</td><td>END_OF_CONTENTS ASN.1 class</td>
</tr>
<tr>
<td>Number</td><td>APPLICATION</td><td>APPLICATION ASN.1 class</td>
</tr>
<tr>
<td>Number</td><td>CONTEXT</td><td>CONTEXT ASN.1 class</td>
</tr>
<tr>
<td>Number</td><td>PRIVATE</td><td>PRIVATE ASN.1 class</td>
</tr>
<tr>
<td>Number</td><td>END_OF_CONTENTS</td><td>END_OF_CONTENTS ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>BOOLEAN</td><td>BOOLEAN ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>INTEGER</td><td>INTEGER ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>BIT_STRING</td><td>BIT_STRING ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>OCTET_STRING</td><td>OCTET_STRING ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>NULL</td><td>NULL ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>OBJECT_IDENTIFIER</td><td>OBJECT_IDENTIFIER ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>OBJECT_DESCRIPTOR</td><td>OBJECT_DESCRIPTOR ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>EXTERNAL_TYPE</td><td>EXTERNAL_TYPE ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>REAL</td><td>REAL ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>ENUMERATED</td><td>ENUMERATED ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>EMBEDDED_PDV</td><td>EMBEDDED_PDV ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>UTF8String</td><td>UTF8String ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>RELATIVE_OID</td><td>RELATIVE_OID ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>SEQUENCE</td><td>SEQUENCE ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>SET</td><td>SET ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>NumericString</td><td>NumericString ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>PrintableString</td><td>PrintableString ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>T61String</td><td>T61String ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>IA5String</td><td>IA5String ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>UTCTime</td><td>UTCTime ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>GeneralizedTime</td><td>GeneralizedTime ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>GeneralString</td><td>GeneralString ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>UniversalString</td><td>UniversalString ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>BMPString</td><td>BMPString ASN.1 object</td>
</tr>
</table>
<h2>Properties</h2>
<table class="content">
<colgroup>
<col width="100">
<col width="120">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td>Number</td><td>tag</td><td>The combined value of the tag, containing the class, constructed flag and number</td>
</tr>
<tr>
<td>Number</td><td>length</td><td>Length of the value field</td>
</tr>
<tr>
<td>ByteString</td><td>value</td><td>The value field</td>
</tr>
<tr>
<td>Number</td><td>tagclass</td><td>The class of the ASN.1 object. Is one of ASN1.UNIVERSAL, ASN1.APPLICATION, ASN1.CONTEXT or ASN1.PRIVATE</td>
</tr>
<tr>
<td>Number</td><td>tagnumber</td><td>The number element of the tag</td>
</tr>
<tr>
<td>Boolean</td><td>isconstructed</td><td>True, if the object is a constructed ASN.1 object</td>
</tr>
<tr>
<td>Number</td><td>size</td><td>Size of the concatenation of tag, length and value field</td>
</tr>
<tr>
<td>Number</td><td>elements</td><td>Number of elements in a constructed object. 0 for primitive objects</td>
</tr>
<tr>
<td>String</td><td>name</td><td>Name of object</td>
</tr>
</table>
<h2 id="Constructor">Constructor</h2>
<h3>Prototype</h3>
<p class="signature">ASN1(Number tag)</p>
<p class="signature">ASN1(Number tag, ByteString value)</p>
<p class="signature">ASN1(Number tag, ASN1 object*)</p>
<p class="signature">ASN1(ByteString encoded)</p>
<p class="signature">ASN1(String name, Number tag)</p>
<p class="signature">ASN1(String name, Number tag, ByteString value)</p>
<p class="signature">ASN1(String name, Number tag, ASN1 object*)</p>
<p class="signature">ASN1(String name, ByteString encoded)</p>
<h3>Description</h3>Create an ASN.1 object, either primitive or constructed. The constructor without a value or 
                     with a list of TLV objects will
                     create a constructed object, which can be further completed using the add() method. The constructor
                     with a value field will create a primitive, immutuable object<h3>Arguments</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="100">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td><code>Number</code></td><td>tag</td><td>Tag value, including class, primitive/constructed flag and id</td>
</tr>
<tr>
<td><code>String</code></td><td>name</td><td>Object name to be assigned to the object</td>
</tr>
<tr>
<td><code>ASN1</code></td><td>object</td><td>One or more ASN1 object(s) to be included in constructed object</td>
</tr>
<tr>
<td><code><a href="bytestring.html">ByteString</a></code></td><td>value</td><td>Value field of object</td>
</tr>
<tr>
<td><code><a href="bytestring.html">ByteString</a></code></td><td>encoded</td><td>DER encoded ASN.1 object</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Type of argument is invalid for call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_DATA</td><td>ByteString does not contain a valid DER encoded object</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
assert(t instanceof ASN1);
assert(t.tag == ASN1.SEQUENCE);
assert(t.length == 0);
assert(t.value.toString(HEX) == "");

assert(t.tagclass == ASN1.UNIVERSAL);
assert(t.tagnumber == 16);
assert(t.isconstructed);
assert(t.size == 2);
assert(t.elements == 0);
t = new ASN1("singleSequence", ASN1.SEQUENCE);
print(t);

t = new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX));
assert(t instanceof ASN1);
assert(t.tag == ASN1.OBJECT_IDENTIFIER);
assert(t.length == 3);
assert(t.value.toString(HEX) == "2A1200");

assert(t.tagclass == ASN1.UNIVERSAL);
assert(t.tagnumber == 6);
assert(!t.isconstructed);
assert(t.size == 5);
t = new ASN1("objectIdentifier", ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX));
print(t);

t = new ASN1(new ByteString("06022A11", HEX));
assert(t instanceof ASN1);
assert(t.tag == ASN1.OBJECT_IDENTIFIER);
assert(t.length == 2);
assert(t.value.toString(HEX) == "2A11");

assert(t.tagclass == ASN1.UNIVERSAL);
assert(t.tagnumber == 6);
assert(!t.isconstructed);
assert(t.size == 4);
t = new ASN1("fromByteString", new ByteString("06022A11", HEX));
print(t);

t = new ASN1(ASN1.SEQUENCE, 
		new ASN1(ASN1.OCTET_STRING, new ByteString("Hello World", ASCII)),
		new ASN1(ASN1.GeneralizedTime, new ByteString("20051010120000Z", ASCII)));

assert(t instanceof ASN1);
assert(t.tag == ASN1.SEQUENCE);
assert(t.elements == 2);

assert(t.tagclass == ASN1.UNIVERSAL);
assert(t.tagnumber == 16);
assert(t.isconstructed);
assert(t.size == 32);
t = new ASN1("complexSequence", ASN1.SEQUENCE, 
		new ASN1(ASN1.OCTET_STRING, new ByteString("Hello World", ASCII)),
		new ASN1(ASN1.GeneralizedTime, new ByteString("20051010120000Z", ASCII)));
print(t);


root = new X509("root.cer");
bs = root.getBytes();
print(bs);
t = new ASN1(bs);
assert(t instanceof ASN1);
print(t);

</pre>
<h2 id="add">add()</h2>
<h3>Prototype</h3>
<p class="signature">ASN1 add(ASN1 object*)</p>
<p class="signature">ASN1 add(Number index, ASN1 object*)</p>
<h3>Description</h3>Add one or more ASN.1 objects to a constructed object at index or at the end.<h3>Arguments</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="100">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td><code>ASN1</code></td><td>object</td><td>ASN.1 objects to add</td>
</tr>
<tr>
<td><code>Number</code></td><td>index</td><td>Zero based index</td>
</tr>
</table>
<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>ASN1</code></td><td>The object the method is applied to</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Type of argument is invalid for call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_MECH</td><td>Object must be constructed</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));

t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)),
      new ASN1(ASN1.PrintableString, new ByteString("Hello World", ASCII)));

t.add(0, new ASN1(ASN1.INTEGER, new ByteString("01", HEX)));

</pre>
<h2 id="get">get()</h2>
<h3>Prototype</h3>
<p class="signature">ASN1 get(Number index)</p>
<h3>Description</h3>
<p>Get ASN.1 object at zero based index from constructed object.</p>
                     
<p>This method does not provide a copy of the element, but a reference to it. Changes
                        to the element will have an effect in parent objects or other instances
                        obtained with the get() method</p>
<h3>Arguments</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="100">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td><code>Number</code></td><td>index</td><td>Zero based offset</td>
</tr>
</table>
<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>ASN1</code></td><td>New ASN1 object representing the element at the requested index</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Type of argument is invalid for call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_INDEX</td><td>Index is out of range</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_MECH</td><td>Object must be constructed</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));
t.add(new ASN1(ASN1.OCTET_STRING, new ByteString("&Auml;&Ouml;&Uuml;", UTF8)));

n = t.get(0);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OBJECT_IDENTIFIER);
assert(n.length == 3);

n = t.get(1);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OCTET_STRING);
assert(n.length == 6);

</pre>
<h2 id="find">find()</h2>
<h3>Prototype</h3>
<p class="signature">ASN1 find(Number tag)</p>
<p class="signature">ASN1 find(Number tag, Number index)</p>
<p class="signature">ASN1 find(Number tag, ASN1 cursor)</p>
<h3>Description</h3>
<p>Find ASN1 object with matching tag.</p>
                     
<p>The method can be called with an object after which the search will start.
                        The constant value null indicates the beginning of the list.</p>
                     
<p>This method does not provide a copy of the element, but a reference to it. Changes
                        to the element will have an effect in parent objects or other instances
                        obtained with the get() method</p>
<h3>Arguments</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="100">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td><code>Number</code></td><td>tag</td><td>The tag value to search for</td>
</tr>
<tr>
<td><code>Number</code></td><td>index</td><td>Zero based offset of the object at which the search is started.</td>
</tr>
<tr>
<td><code>ASN1</code></td><td>cursor</td><td>The object after which the search resumes or null for a new search</td>
</tr>
</table>
<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>ASN1</code></td><td>New ASN1 object representing the found element or null if no match found</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Type of argument is invalid for call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_INDEX</td><td>Index is out of range</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_MECH</td><td>Object must be constructed</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));
t.add(new ASN1(ASN1.OCTET_STRING, new ByteString("&Auml;&Ouml;&Uuml;", UTF8)));
t.add(new ASN1(ASN1.INTEGER, new ByteString("00", HEX)));
t.add(new ASN1(ASN1.INTEGER, new ByteString("0000", HEX)));

n = t.find(ASN1.OBJECT_IDENTIFIER);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OBJECT_IDENTIFIER);

n = t.find(ASN1.INTEGER);
assert(n instanceof ASN1);
assert(n.tag == ASN1.INTEGER);
assert(n.length == 1);


n = t.find(ASN1.INTEGER, n);
assert(n instanceof ASN1);
assert(n.tag == ASN1.INTEGER);
assert(n.length == 2);

n = t.find(ASN1.INTEGER, n);
assert(n == null);

n = t.find(ASN1.OBJECT_IDENTIFIER, n);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OBJECT_IDENTIFIER);


n = t.find(ASN1.INTEGER, 1);
assert(n instanceof ASN1);
assert(n.tag == ASN1.INTEGER);
assert(n.length == 1);

n = t.find(ASN1.INTEGER, 3);
assert(n instanceof ASN1);
assert(n.tag == ASN1.INTEGER);
assert(n.length == 2);

n = t.find(ASN1.OBJECT_IDENTIFIER, 0);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OBJECT_IDENTIFIER);


</pre>
<h2 id="remove">remove()</h2>
<h3>Prototype</h3>
<p class="signature">void remove(Number index)</p>
<h3>Description</h3>
<p>Remove ASN.1 object at zero based index from constructed object.</p>
<h3>Arguments</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="100">
<col>
</colgroup>
<tr>
<th>Type</th><th>Name</th><th>Description</th>
</tr>
<tr>
<td><code>Number</code></td><td>index</td><td>Zero based offset</td>
</tr>
</table>
<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code></code></td><td></td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Type of argument is invalid for call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_INDEX</td><td>Index is out of range</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_MECH</td><td>Object must be constructed</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));
t.add(new ASN1(ASN1.OCTET_STRING, new ByteString("&Auml;&Ouml;&Uuml;", UTF8)));

t.remove(0);

n = t.get(0);
assert(n instanceof ASN1);
assert(n.tag == ASN1.OCTET_STRING);
assert(n.length == 6);

</pre>
<h2 id="getBytes">getBytes()</h2>
<h3>Prototype</h3>
<p class="signature">ByteString getBytes()</p>
<h3>Description</h3>Return the DER encoded ASN.1 object<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>ByteString</code></td><td>The DER encoded object</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));
assert(t.getBytes().toString(HEX) == "300506032A1200");

</pre>
<h2 id="getDate">getDate()</h2>
<h3>Prototype</h3>
<p class="signature">Date getDate()</p>
<h3>Description</h3>Return the value field of a primitive ASN.1 object as a date. This usually works for
                     for GeneralizedTime objects which store date and time in ISO8601 format.<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>ByteString</code></td><td>The DER encoded object</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_MECH</td><td>Object must be primitive</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_DATA</td><td>Value field does not contain a valid date and time</td>
</tr>
</table>
<h3>Example</h3>
<pre>

// Local time
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929113422", ASCII));
d = t.getDate();
print(d);
assert(d.toString().substr(0,24) == "Thu Sep 29 2005 11:34:22");
	    
// UTC time
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929113422Z", ASCII));
d = t.getDate();
assert(d.getTime() == 1127993662000);

// CEST time
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929133422+0200", ASCII));
d = t.getDate();
assert(d.getTime() == 1127993662000);

// Local time with millisecond
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929113422.1", ASCII));
d = t.getDate();
assert(d.toString().substr(0,24) == "Thu Sep 29 2005 11:34:22");

// UTC time with millisecond
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929113422.1Z", ASCII));
d = t.getDate();
assert(d.getTime() == 1127993662001);
	    
// CEST time with millisecond
t = new ASN1(ASN1.GeneralizedTime, new ByteString("20050929133422.1+0200", ASCII));
d = t.getDate();
assert(d.getTime() == 1127993662001);

</pre>
<h2 id="setName">setName()</h2>
<h3>Prototype</h3>
<p class="signature">setName(String name)</p>
<h3>Description</h3>Assign a name to the ASN.1 object.<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code></code></td><td></td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.setName("testObject");
print(t.toString());

</pre>
<h2 id="ASN1.defineObjectIdentifier">ASN1.defineObjectIdentifier()</h2>
<h3>Prototype</h3>
<p class="signature">defineObjectIdentifier(String name, String definition)</p>
<h3>Description</h3>
            
<p>Add a definition for a symbolic object identifier to the internal registry.</p>
            
<p>The definition may be recursive and can use the dotted or spaced format.</p>
        
<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code></code></td><td></td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
</table>
<h3>Example</h3>
<pre>

ASN1.defineObjectIdentifier("openscdp-test", "1.3.6.1.4.1.24991.0");
ASN1.defineObjectIdentifier("openscdp-test-sub1", "openscdp-test.4");
ASN1.defineObjectIdentifier("openscdp-test-sub2", "openscdp-test branch(5)");

var b = new ByteString("openscdp-test-sub2", OID);
print(b);
assert(b.toString(OID) == "1.3.6.1.4.1.24991.0.5");

</pre>
<h2 id="toString">toString()</h2>
<h3>Prototype</h3>
<p class="signature">String toString()</p>
<h3>Description</h3>Dump the contents of the ASN.1 object<h3>Return</h3>
<table>
<colgroup>
<col width="100">
<col>
</colgroup>
<tr>
<td><code>String</code></td><td>Dump of ASN.1 object</td>
</tr>
</table>
<h3>Exceptions</h3>
<table class="content">
<colgroup>
<col width="100">
<col width="200">
<col>
</colgroup>
<tr>
<th>Name</th><th>Value</th><th>Description</th>
</tr>
<tr>
<td>GPError</td><td>GPError.ARGUMENTS_MISSING</td><td>Too few arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_ARGUMENTS</td><td>Too many arguments in call</td>
</tr>
<tr>
<td>GPError</td><td>GPError.INVALID_TYPE</td><td>Argument must be of type Number and either Card.RESET_COLD or Card.RESET_WARM</td>
</tr>
</table>
<h3>Example</h3>
<pre>

t = new ASN1(ASN1.SEQUENCE);
t.add(new ASN1(ASN1.OBJECT_IDENTIFIER, new ByteString("2A1200", HEX)));
print(t.toString());

</pre>
                    <!-- #EndEditable -->
<br>
<p class="copyright">&copy; Copyright 2003 - 2010 <a href="http://www.cardcontact.de">CardContact</a>
Software & System Consulting, Minden, Germany</p>
</div>

</body>
</html><!-- #EndTemplate -->
        
