<!-- #BeginTemplate "template.dwt" -->
<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- #BeginEditable "TITLE" -->
<title>Smart Card Shell 3</title>
<!-- #EndEditable -->
<link rel=stylesheet type="text/css" href="style.css">
<meta name="author" content="Andreas Schwier">
</head>
<body>
<div align="left"><a href="http://www.cardcontact.de"><img src="banner.jpg" width="750" height="80" border="0"></a></div>
<div id="navigator">
    <p><b>Smart Card<br>Shell 3</b></p>
    <a href="index.html">Home</a><br><br>
    <a href="gperror.html">GPError</a><br>
    <a href="gpsystem.html">GPSystem</a><br>
    <a href="bytestring.html">ByteString</a><br>
    <a href="bytebuffer.html">ByteBuffer</a><br>
    <a href="tlv.html">TLV</a><br>
    <a href="tlvlist.html">TLVList</a><br>
    <a href="card.html">Card</a><br>
    <a href="atr.html">Atr</a><br>
    <a href="key.html">Key</a><br>
    <a href="crypto.html">Crypto</a><br>
    <a href="application.html">Application</a><br>
    <a href="gpapplication.html">GPApplication</a><br>
    <a href="gpsecuritydomain.html">GPSecDomain</a><br>
    <br>
    <a href="asn1.html">ASN1</a><br>
    <a href="cardfile.html">CardFile</a><br>
    <a href="isosecurechannel.html">IsoSecureChannel</a><br>
    <a href="applicationfactory.html">ApplFactory</a><br>
    <a href="gpxml.html">GPXML</a><br>
    <a href="jsscript.html">JsScript</a><br>
    <a href="cardsimulationadapter.html">CardSim</a><br>
    <br>
    <a href="x509.html">X509</a><br>
    <a href="crl.html">CRL</a><br>
    <a href="keystore.html">KeyStore</a><br>
    <a href="cmssigneddata.html">CMSSignedData</a><br>
    <a href="cmsgenerator.html">CMSGenerator</a><br>
    <a href="xmlsignature.html">XMLSignature</a><br>
    <a href="ocspquery.html">OCSPQuery</a><br>
    <a href="ldap.html">LDAP</a><br>
    <a href="soapconnection.html">SOAP</a><br>
    <a href="urlconnection.html">URLConnection</a><br>
    <br>
    <a href="pkcs11provider.html">PKCS11Provider</a><br>
    <a href="pkcs11session.html">PKCS11Session</a><br>
    <a href="pkcs11object.html">PKCS11Object</a><br>
    <br>
    <a href="outlinenode.html">OutlineNode</a><br>
    <a href="dialog.html">Dialog</a><br>
    <br>
    <a href="jsdoc/index.html">Tools</a><br>
    <br>
    <a href="http://www.openscdp.org">OpenSCDP</a><br>
</div>

<div id="main">
<!-- #BeginEditable "BODY" -->
<h2>Locating Files</h2>
<p>When calling load() to execute ECMAScripts, then the file name can be given
   with either an absolute or a relative path. An absolute path starts at the root of the file
   system, e.g. "C:\" on Windows or "/" on a UNIX like system. It uniquely identifies the file on
   the host system and requires no additional processing. However, specifying a relative file
   path allows a more flexible setup of script files and directories, in particular if scripts
   shall be reused or run on systems with different directory configurations.</p>
<p>The shell maintains 3 different directories</p>
<ul>
  <li>a current working directory (CWD)</li>
  <li>a workspace directory (USR)</li>
  <li>and a system directory (SYS)</li>
</ul>
<p>When a relative file name given, then the file is first searched relative to the current
   working directory. If it can not be found, then the workspace directory and finally the
   system directory is examined. If it can not be found in either location, then an error is
   returned.</p>
<p>The system directory (SYS) is determined by the location of the shell executable file and does not
   change once the shell is started. The location of the executable is usually selected
   during installation (Installation directory, e.g. "c:\Program Files\CardContact\Smart Card Shell 3")
   and read/only for users that do not have administration privileges.</p>
<p>The workspace directory (USR) is selected by the user when the shell is started. This directory usually
   contains the initial CONFIG.JS file, which provides for the initial shell configuration.</p>
<p>The GUI version of the shell provides a dialog to select the workspace, in the command line
   version the workspace directory is determined by the directory from which the shell is
   executed (Not to confuse with the system directory, which is the location of the executable itself !)</p>
<p>Initially the current working directory (CWD) is set to the workspace directory (USR).
   Before a script file is loaded and executed, the current working directory is changed
   to the directory where the script was found. When calling a script from within another
   script, the location of the subordinate script is again determined by a search for the
   file in the current working directory, the workspace directory and the system directory.
   After the script terminated, the previous current working directory is restored.</p>
<h3>Common pitfalls</h3>
<p>Care should be taken when script files have the same name but reside in different directories.
   File name resolution for a relative file path always starts with the current working
   directory, which is determined by the location of the script that is containing the load()
   statement. Therefore a script executed from the system directory has the current working
   directory set to the system directory and will therefore find files in this location first.
   Only if the included file can not be found in the current working directory, then the user and
   system directories are searched in turn. Overwriting a file in the system directory with a file
   of the same name in the user directory has no effect, if this file is included from a script in the
   system directory.</p>
<p>If you want to select a specific file, you should use the <a href="gpsystem.html#mapFilename">GPSystem.mapFilename()</a>
   method to obtain an absolute path for use in the load() statement.</p>
<!-- #EndEditable -->
<br>
<p class="copyright">&copy; Copyright 2003 - 2010 <a href="http://www.cardcontact.de">CardContact</a>
Software & System Consulting, Minden, Germany</p>
</div>

</body>
</html><!-- #EndTemplate -->