<!-- #BeginTemplate "template.dwt" -->
<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- #BeginEditable "TITLE" -->
<title>Smart Card Shell 3</title>
<!-- #EndEditable -->
<link rel=stylesheet type="text/css" href="style.css">
<meta name="author" content="Andreas Schwier">
</head>
<body>
<div align="left"><a href="http://www.cardcontact.de"><img src="banner.jpg" width="750" height="80" border="0"></a></div>
<div id="navigator">
    <p><b>Smart Card<br>Shell 3</b></p>
    <a href="index.html">Home</a><br><br>
    <a href="gperror.html">GPError</a><br>
    <a href="gpsystem.html">GPSystem</a><br>
    <a href="bytestring.html">ByteString</a><br>
    <a href="bytebuffer.html">ByteBuffer</a><br>
    <a href="tlv.html">TLV</a><br>
    <a href="tlvlist.html">TLVList</a><br>
    <a href="card.html">Card</a><br>
    <a href="atr.html">Atr</a><br>
    <a href="key.html">Key</a><br>
    <a href="crypto.html">Crypto</a><br>
    <a href="application.html">Application</a><br>
    <a href="gpapplication.html">GPApplication</a><br>
    <a href="gpsecuritydomain.html">GPSecDomain</a><br>
    <br>
    <a href="asn1.html">ASN1</a><br>
    <a href="cardfile.html">CardFile</a><br>
    <a href="isosecurechannel.html">IsoSecureChannel</a><br>
    <a href="applicationfactory.html">ApplFactory</a><br>
    <a href="gpxml.html">GPXML</a><br>
    <a href="jsscript.html">JsScript</a><br>
    <a href="cardsimulationadapter.html">CardSim</a><br>
    <br>
    <a href="x509.html">X509</a><br>
    <a href="crl.html">CRL</a><br>
    <a href="keystore.html">KeyStore</a><br>
    <a href="cmssigneddata.html">CMSSignedData</a><br>
    <a href="cmsgenerator.html">CMSGenerator</a><br>
    <a href="xmlsignature.html">XMLSignature</a><br>
    <a href="ocspquery.html">OCSPQuery</a><br>
    <a href="ldap.html">LDAP</a><br>
    <a href="soapconnection.html">SOAP</a><br>
    <a href="urlconnection.html">URLConnection</a><br>
    <br>
    <a href="pkcs11provider.html">PKCS11Provider</a><br>
    <a href="pkcs11session.html">PKCS11Session</a><br>
    <a href="pkcs11object.html">PKCS11Object</a><br>
    <br>
    <a href="outlinenode.html">OutlineNode</a><br>
    <a href="dialog.html">Dialog</a><br>
    <br>
    <a href="jsdoc/index.html">Tools</a><br>
    <br>
    <a href="http://www.openscdp.org">OpenSCDP</a><br>
</div>

<div id="main">
<!-- #BeginEditable "BODY" -->
<h1>Troubleshooting</h1>
<p>If something goes wrong with the Smart Card Shell, then this document might
   provide you with the answers you are looking for.</p>
<h2>Installation and Startup</h2>
<h3>The Smart Card Shell does not start</h3>
<p>If you start the Smart Card Shell from the "Start" menue and it does not come
   up with a window, then you should try to start the program manually:</p>
<ol>
<li>Open a command line</li>
<li>Change to the Smart Card Shell installation directory (e.g. cd "c:\Program Files\CardContact\Smart Card Shell 3")</li>
<li>Enter the following command:</li>
</ol>
<pre>
scsh3gui.cmd
</pre>
<p>This command runs the Smart Card Shell without the wrapper. The output on the console should indicate
   where the problem might be.</p>
<h2>Configuration</h2>
<h3>Changing the card reader is not stored in persistant storage</h3>
<p>When the card reader is changed, then the new configuration value
   is written to the <code>.settings.js</code> configuration script. This
   script is executed during startup. Please make sure, that the script
   is stored in your working directory or the installation directory.</p>
<h2>Locating files</h2>
<h3>The Shell does not find my files</h3>
<p>If the shell seems to be unable to locate your files, then check the following:</p>
<ul>
<li>Absolute path names should always work</li>
<li>Relative path names are resolved relative to the location of the currently running script, the
    working directory and the installation directory (See <a href="filelocation.html">Locating Files</a>).</li>
<li>When calling a function that was previously defined in a script, then the current directory is either
    the directory of the calling script or, if entered on the command line, the working directory</li>
</ul>
<h2>My card does not seem to work</h2>
<p>There may be situations, where the Smart Card Shell does not work with your specific card.
   In this case we recommend to enable tracing and try again to analyse the Command- and Response-APDUs
   exchanged between the Shell and your card.</p>
<p>Tracing of APDUs can be enable by editing the <code>opencard.properties</code> file with
   a text editor and by uncommenting the line that reads</p>
<pre>
#OpenCard.trace = opencard.core.service.CardChannel:8
</pre>
<p>to</p>
<pre>
OpenCard.trace = opencard.core.service.CardChannel:8
</pre>
<p>After you restart the shell, you will see trace messages in the form:</p>
<pre>
--- thread    Thread[Thread-5,6,main]
--- source    opencard.core.service.CardChannel@e14ebc, is open, not jammed


[DEBUG    ] opencard.core.service.CardChannel.sendCommandAPDU
--- message   opencard.core.terminal.CommandAPDU@169df00
0000:  00 A4 04 00 07 A0 00 00 02 47 10 01 00           .........G...

--- thread    Thread[Thread-5,6,main]
--- source    opencard.core.service.CardChannel@e14ebc, is open, not jammed


[DEBUG    ] opencard.core.service.CardChannel.response:
--- message   opencard.core.terminal.ResponseAPDU@1af8502
0000:  6F 11 84 07 A0 00 00 02 47 10 01 A5 06 50 04 4D  o.......G....P.M
0010:  52 54 44 90 00                                   RTD..
</pre>
<!-- #EndEditable -->
<br>
<p class="copyright">&copy; Copyright 2003 - 2010 <a href="http://www.cardcontact.de">CardContact</a>
Software & System Consulting, Minden, Germany</p>
</div>

</body>
</html><!-- #EndTemplate -->